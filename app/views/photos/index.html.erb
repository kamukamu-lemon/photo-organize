<% content_for :main_class, 'max-w-7xl' %>
<div class="p-4">

  <% if @photos.empty? %>
    <!-- 使い方説明エリア -->
    <div class="relative bg-cover bg-center rounded-2xl shadow-xl overflow-hidden p-8 text-white"
         style="background-image: url(<%= asset_path('image.webp') %>); min-height: 400px;">
      <div class="absolute inset-0 bg-black opacity-40"></div>
      <div class="bg-gray/60 p-6 rounded-xl backdrop-blur-sm relative z-10">
        <h2 class="text-2xl font-bold mb-4">How To</h2>
        <ul class="space-y-2 text-lg  leading-relaxed list-disc list-inside">
          <li>
            はじめに 
               <a class="btn-black inline-block text-sm  px-4 py-1 rounded shadow bg-black text-white cursor-default pointer-events-none">
                  NEW PHOTO
               </a>
            から画像の登録をしてください。
          </li>
          <li>レシピのスクショなど複数の画像をまとめて登録も可能です。</li>
          <li>登録した画像をクリックすると詳細ページへ移動します。</li>
          <li>詳細ページでは大きなサイズで登録したすべての画像を表示します。</li>
          <li>詳細ページから画像の削除・編集が可能です。</li>
          <li>上部のロゴクリックで一覧ページに移動します。</li>
        </ul>

        
      </div>
    </div>

  <% else %>
    <ul class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
      <% @photos.each do |photo| %>
        <li class="flex flex-col bg-white rounded-2xl shadow overflow-hidden">
          <%= link_to photo_path(photo), class: "flex-1 flex flex-col" do %>
            <% if photo.images.attached? %>
              <%= image_tag photo.images[0], class: "w-full h-[180px] object-cover" %>
            <% end %>
            <div class="p-2 text-center">
              <h3 class="text-sm font-semibold text-gray-800 truncate font-title">
                <%= photo.title %>
              </h3>
            </div>
          <% end %>
        </li>
      <% end %>
    </ul>
  <% end %>

</div>
